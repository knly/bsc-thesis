\RequirePackage{pageslts}
\newcommand{\vcenteredicon}{
	\begingroup
	\setbox0=\hbox{
		\scalebox{0.2}{
			\if@twoside
				\input{paging_animation/alternating_\theCurrentPage.pgf}
			\else
				\input{paging_animation/continuous_\theCurrentPage.pgf}
			\fi
	    }
	}\parbox{\wd0}{\box0}
	\endgroup
}

\newlength{\pagenumwidth}
\setlength{\pagenumwidth}{1.5em}

\RequirePackage{xstring}
\newcommand{\paginganim}[2][c]{%
	\IfEq{#1}{r}{%
		\makebox[0pt][r]{\vcenteredicon{}}%
	}{}%
	\IfEq{#1}{c}{%
		\makebox[0pt][r]{\vcenteredicon{}}%
	}{}%
	\makebox[\pagenumwidth][#1]{#2}%
	\IfEq{#1}{l}{
		\makebox[0pt][l]{\vcenteredicon{}}%
	}{}
}


\RequirePackage{fancyhdr}
\fancyfoot{}
\if@print
	\fancyfoot[RO]{\paginganim[r]{\thepage}}
	\fancyfoot[LE]{\paginganim[l]{\thepage}}
\else
	\fancyfoot[C]{\paginganim[c]{\thepage}}
\fi

\fancypagestyle{plain}{
	\fancyhf{}
	\if@print
		\fancyfoot[RO]{\paginganim[r]{\thepage}}
		\fancyfoot[LE]{\paginganim[l]{\thepage}}
	\else
		\fancyfoot[C]{\paginganim[c]{\thepage}}
	\fi
	\renewcommand{\headrulewidth}{0pt}
	\renewcommand{\footrulewidth}{0pt}
}
